{"version":3,"sources":["webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.page.html","webpack:///./src/app/pages/login/login.page.scss","webpack:///./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { LoginPage } from './login.page';\nimport { Device } from '@ionic-native/device/ngx';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),  \n  ],\n  providers: [\n    Device\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-header no-border>\\n  <ion-toolbar>\\n    <div class=\\\"center\\\">\\n      <img src=\\\"assets/img/logo.png\\\" height=\\\"30\\\"/>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content >\\n    <div class=\\\"toolbar-div\\\">\\n    <ion-title class=\\\"title\\\">¿Ya estás suscrito?</ion-title>\\n  </div>\\n  <ion-label position=\\\"stacked\\\" class=\\\"title_label\\\" color=\\\"danger-primary\\\">Número de teléfono</ion-label>\\n  <ion-item class=\\\"item\\\">\\n    <ion-label>+507 </ion-label>\\n    <ion-input class=\\\"input_login\\\" type=\\\"tel\\\" placeholder=\\\"#12345678\\\" [(ngModel)]=\\\"msisdn\\\"></ion-input>\\n  </ion-item>\\n  <ion-label class=\\\"title_label\\\" position=\\\"stacked\\\" color=\\\"danger-primary\\\">Contraseña</ion-label>\\n  <ion-item class=\\\"item\\\">\\n    <ion-input placeholder=\\\"Ingrese el código recibido por SMS.\\\" type=\\\"password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n  </ion-item>\\n  <div class=\\\"padding-left-right\\\">\\n    <div class=\\\"padding-top-m\\\">\\n      <ion-button shape=\\\"round\\\" size=\\\"default\\\" color=\\\"danger\\\" expand=\\\"block\\\" [disabled]=\\\"(msisdn !== undefined && password !== undefined) ? false : true\\\" (click)=\\\"createOrUpdateClient()\\\">\\n      Iniciar sesion\\n    </ion-button>\\n    </div>\\n    <div class=\\\"padding-top-xs\\\">\\n      <ion-button routerLink='/get-password' shape=\\\"round\\\" size=\\\"default\\\" color=\\\"danger\\\" expand=\\\"block\\\">Obtener Contraseña</ion-button>\\n    </div>\\n    <div class=\\\"padding-top-xs padding-botton-m\\\">\\n      <ion-button (click)=\\\"loginSessionInvited()\\\" shape=\\\"round\\\" size=\\\"default\\\" color=\\\"danger\\\" expand=\\\"block\\\">Entrar como invitado</ion-button>\\n    </div>\\n    <div class=\\\"center\\\">\\n      <a class=\\\"text-size-s\\\" href=\\\"http://www.masmovil.com.pa/\\\">Términos y Condiciones</a>\\n    </div>\\n  </div>\\n</ion-content>\\n\"","module.exports = \".error-messages {\\n  font-size: 0.9em;\\n  color: red;\\n  text-align: left; }\\n\\n.padding-left-right {\\n  padding-left: 15px;\\n  padding-right: 15px;\\n  margin: 0 auto; }\\n\\n.padding-top-xs {\\n  padding-top: 2px;\\n  margin: 0 auto; }\\n\\n.padding-top-m {\\n  padding-top: 10px;\\n  margin: 0 auto; }\\n\\n.padding-botton-m {\\n  padding-bottom: 10px;\\n  margin: 0 auto; }\\n\\n.text-size-s {\\n  font-size: 0.8em;\\n  text-align: center; }\\n\\n.center {\\n  margin: 0 auto;\\n  text-align: center; }\\n\\n.toolbar-div {\\n  margin: 16px;\\n  width: 92%;\\n  height: 60px;\\n  background-color: #0377B4; }\\n\\n.title {\\n  padding-top: 16px;\\n  text-align: center;\\n  color: #ffffff; }\\n\\n.title_label {\\n  margin-top: 1em;\\n  padding-left: 1em; }\\n\\n.item {\\n  marging-top: 1em; }\\n\\n.input_login {\\n  width: 20px;\\n  marging-left: 3em; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3lzaWRyby9wb3J0YWZvbGlvIGRlIHByb2dyYW1hY2lvbi9hcHBNYXNTcG9ydC9zcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFnQjtFQUNoQixVQUFVO0VBQ1YsZ0JBQWdCLEVBQUE7O0FBRXBCO0VBQ0Usa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixjQUFjLEVBQUE7O0FBRWhCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWMsRUFBQTs7QUFFaEI7RUFDRSxpQkFBaUI7RUFDakIsY0FBYyxFQUFBOztBQUVoQjtFQUNFLG9CQUFvQjtFQUNwQixjQUFjLEVBQUE7O0FBRWhCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGtCQUFrQixFQUFBOztBQUVwQjtFQUNFLGNBQWM7RUFDZCxrQkFBa0IsRUFBQTs7QUFFcEI7RUFDRSxZQUFZO0VBQ1osVUFBVTtFQUNWLFlBQVk7RUFDWix5QkFBeUIsRUFBQTs7QUFFM0I7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGNBQWMsRUFBQTs7QUFFaEI7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCLEVBQUE7O0FBRW5CO0VBQ0UsZ0JBQWUsRUFBQTs7QUFFakI7RUFDRSxXQUFXO0VBQ1gsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXJyb3ItbWVzc2FnZXMge1xuICAgIGZvbnQtc2l6ZTogMC45ZW07XG4gICAgY29sb3I6IHJlZDtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG4ucGFkZGluZy1sZWZ0LXJpZ2h0IHtcbiAgcGFkZGluZy1sZWZ0OiAxNXB4O1xuICBwYWRkaW5nLXJpZ2h0OiAxNXB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cbi5wYWRkaW5nLXRvcC14cyB7XG4gIHBhZGRpbmctdG9wOiAycHg7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuLnBhZGRpbmctdG9wLW17XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cbi5wYWRkaW5nLWJvdHRvbi1te1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG4udGV4dC1zaXplLXN7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5jZW50ZXJ7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4udG9vbGJhci1kaXYge1xuICBtYXJnaW46IDE2cHg7XG4gIHdpZHRoOiA5MiU7XG4gIGhlaWdodDogNjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAzNzdCNDtcbn1cbi50aXRsZSB7XG4gIHBhZGRpbmctdG9wOiAxNnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjZmZmZmZmO1xufVxuLnRpdGxlX2xhYmVsIHtcbiAgbWFyZ2luLXRvcDogMWVtO1xuICBwYWRkaW5nLWxlZnQ6IDFlbTtcbn1cbi5pdGVtIHtcbiAgbWFyZ2luZy10b3A6MWVtO1xufVxuLmlucHV0X2xvZ2luIHtcbiAgd2lkdGg6IDIwcHg7IFxuICBtYXJnaW5nLWxlZnQ6IDNlbTtcbn1cbiJdfQ== */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { ConfigurationsService } from '../../services/configurations/configurations.service';\nimport { ClientService } from '../../services/client/client.service';\nimport { Router} from '@angular/router';\nimport { LoadingService } from '../../services/loading/loading.service'\nimport { Device } from '@ionic-native/device/ngx';\nimport { Platform } from '@ionic/angular';\n\n\nvar AUTH_TOKEN_PREFIX = 'Basic ';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\n \nexport class LoginPage implements OnInit, OnDestroy {\n  prefix = '507';\n  msisdn: string;\n  password: string;\n  clientJson: any;\n  responseInfo: any;\n  tokenUser : any;\n  responseUpstream : any;\n  id_client : any;\n  session : any; \n  statusResponse: any;\n  old_User: any;\n  new_User: any;\n\n  constructor(  \n    private config: ConfigurationsService, \n    private client: ClientService, private http : HttpClient,\n    private  router: Router, private loading: LoadingService,\n    private device : Device, public platform : Platform ) { }\n\n  ngOnInit() { }\n\n  createOrUpdateClient() {\n    var lang = {\n      name: 'español',\n      id_language:300,\n      short_name:'es'\n    };\n    var log = {\n      msisdn: this.prefix + this.msisdn,\n      password: this.password,\n      upstreamChannel: '' ,\n      ua: '',\n      platform:'',\n      appCodeName:'',\n      appName:'',\n      language: '',\n      cordova:'',\n      model:'',\n      uuid:'',\n      version:'',\n      isVirtual: false,\n      serial:'',\n      onLine: false,\n      manufacturer: '',\n      id_language: 300\n      };\n\n    log.upstreamChannel =  this.config.getUpstreamChannel();\n    this.loading.presentLoading() \n    if (this.config.getPlatform() === 'Web') { \n        log.ua =  navigator.userAgent;\n        log.platform =  navigator.platform;\n        log.onLine  =  navigator.onLine;\n        log.appCodeName = navigator.appCodeName;\n        log.appName = navigator.appName;\n        log.language = navigator.language; \n\n    } else if (this.config.getPlatform() === 'Android' || this.config.getPlatform() === 'iOS'){\n        log.cordova = this.device.cordova;\n        log.model = this.device.model;\n        log.platform = this.device.platform;\n        log.uuid = this.device.uuid;\n        log.version = this.device.version;\n        log.manufacturer = this.device.manufacturer;\n        log.isVirtual = this.device.isVirtual;\n        log.serial = this.device.serial;   \n    }\n    //antes id_language era 405 para portugues ahora es 300 para español\n    var jData = {\n        country : 4,\n        language: lang ? lang.id_language : 300,\n        device_id : this.config.getDeviceId(),\n        upstreamChannel : this.config.getUpstreamChannel(),\n        log: log,\n        login: this.prefix + this.msisdn,\n        password: this.password,\n        devices:{},\n        subscribe: true\n    };\n\n    var url = this.client.create();\n    console.log('createOrUpdateClient -> Payload -> ' + JSON.stringify(jData));\n\n    var headers = new HttpHeaders();\n    headers.append(\"Accept\", 'application/json');\n    headers.append('Content-Type', 'application/json' );\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n\n    this.http.post(url, jData, httpOptions)\n      .toPromise()\n      .then(data => {\n        this.statusResponse  = data['description']\n        this.responseInfo = data['response'];\n        this.id_client = this.responseInfo.id_client\n\n        if(this.statusResponse === 'OK' ){\n          localStorage.setItem('id_client',this.responseInfo.id_client)\n          if(localStorage.length >1){\n            this.old_User = localStorage.getItem('session')\n            localStorage.setItem('session',this.responseInfo.user_id)\n          }else{\n            localStorage.setItem('session',this.responseInfo.user_id)\n          }      \n        }\n\n        this.tokenUser = this.responseInfo.auth_token\n        this.upstream()\n      }, error => {\n        this.loading.presentToast('Teléfono o contraseña incorrecto, intente nuevamente!!!.', 'danger')\n        console.log(error);\n        \n      });    \n      \n      this.msisdn = undefined\n      this.password = undefined\n  }\n\n  upstream(){\n\n    this.session = localStorage.getItem('session');\n    var headers = new HttpHeaders();\n    headers.append(\"Accept\", 'application/json');\n    headers.append('Content-Type', 'application/json' );\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n      })\n    };\n\n  \n  if(this.tokenUser !== undefined ){\n    headers.append(\"Authorization\", AUTH_TOKEN_PREFIX + this.tokenUser)\n  } \n\n  var config = {\n    headers: headers\n  };  \n\n  var body = {\n    event_type : 'LOGIN',\n    metadata : {\n      appVersion : '0.0.2',\n      channel : this.config.getPlatform()\n    },\n    user_id: this.id_client\n  }\n\n  if(this.id_client !== undefined && this.client !== null ){\n    var upstream = this.client.upstream(this.id_client)\n    this.http.post(upstream, body, config)\n      .toPromise()\n      .then(data => {\n        this.responseUpstream = data['response'];\n          \n        if(this.session !== this.old_User) {\n          this.router.navigateByUrl('/tutorial');\n        }else{\n          this.router.navigateByUrl('/tabs/predictions');\n        }\n         \n      }, error => {\n        this.loading.presentToast('Teléfono o contraseña incorrecto, intente nuevamente!!!.', 'danger')\n        console.log(error);\n        \n      });\n    }\n  }\n\n  loginSessionInvited() {\n\n    var lang = {\n      name: 'español',\n      id_language:300,\n      short_name:'es'\n    };\n    var log = {\n      upstreamChannel: '' ,\n      platform:'',\n      language: '',\n      cordova:'',\n      model:'',\n      uuid:'',\n      version:'',\n      serial:'',\n      manufacturer: '',\n      id_language: 300\n      };\n\n    log.upstreamChannel =  this.config.getUpstreamChannel();\n    this.loading.presentLoading() \n    if (this.config.getPlatform() === 'Web') { \n        log.platform =  navigator.platform;\n        log.language = navigator.language; \n\n    } else {\n        log.cordova = this.device.cordova;\n        log.model = this.device.model;\n        log.platform = this.device.platform;\n        log.uuid = this.device.uuid;\n        log.version = this.device.version;\n        log.manufacturer = this.device.manufacturer;\n        log.serial = this.device.serial;   \n    }\n\n    var jData = {\n        country : 4,\n        language: lang ? lang.id_language : 300,\n        device_id : this.config.getDeviceId(),\n        upstreamChannel : this.config.getUpstreamChannel(),\n        log: log,\n        subscribe: true\n    };\n\n    var url = this.client.create();\n    console.log('createOrUpdateClient -> Payload -> ' + JSON.stringify(jData));\n\n    var headers = new HttpHeaders();\n    headers.append(\"Accept\", 'application/json');\n    headers.append('Content-Type', 'application/json' );\n    const httpOptions = {\n      headers: new HttpHeaders({\n      'Content-Type':  'application/json'\n    })\n    };\n    this.http.post(url, jData, httpOptions)\n      .toPromise()\n      .then(data => {\n        this.responseInfo = data['response'];\n        localStorage.setItem('id_client', this.responseInfo.id_client)\n        this.router.navigateByUrl('/configurations'); \n      }, error => {\n        console.log(error);\n        \n      });\n  }\n\n  ngOnDestroy() {\n    console.log(\"Exit\")\n  }\n\n}\n"],"sourceRoot":""}